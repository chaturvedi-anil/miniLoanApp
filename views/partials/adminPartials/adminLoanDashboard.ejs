<link rel="stylesheet" href="/css/dashboard.css">
<link rel="stylesheet" href="/css/adminLoanDashboard.css">
<main class="main-container">
    <% if(locals.user) { %> 
        <!-- Sidebar -->
        <div class="sidebar">
            <ul class="nav">
                <li class="nav-item">
                    <a class="nav-link" href="/admin/dashboard">Admin Profile</a>
                </li>
                <li class="nav-item" onclick="toggleDashboards('approved-loan')">
                    <a class="nav-link">Approved Loan Request</a>
                </li>
                <li class="nav-item" onclick="toggleDashboards('pending-loan')">
                    <a class="nav-link">Pending Loan Request</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link">Rejected Loan Request</a>
                </li>
                <li class="nav-item" id="paid-loan">
                    <a class="nav-link">Paid Loans</a>
                </li>
            </ul>
        </div>

        <!-- Show approved Loan -->
        <div class="main-content" id="approved-loan">
            <div class="container">
                <h1>All Approved Loan List</h1>
                <div class="approved-loans">
                    <table class="loan-table">
                        <thead>
                            <tr>
                                <th>Customer</th>
                                <th>Loan Amount</th>
                                <th>Loan Term</th>
                                <th>Loan Status</th>
                                <th>Applied Date</th>
                                <th>Payment Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% for(let loanList of allLoanList) { %>
                                <tr class="loan-details">
                                    <td><%= loanList.customer.name %></td>
                                    <td><%= loanList.amount %> </td>
                                    <td><%= loanList.term %> </td>
                                    <td><%= loanList.status %> </td>
                                    <td><%= loanList.appliedDate%> </td>
                                    <td>Due</td>
                                </tr>
                            <% } %>
                        </tbody>
                    </table>
                </div>
            </div>            
        </div>

        <!-- Show Pending Loan Request -->
        <div class="main-content" id="pending-loan">
            <div class="container">
                <h1>All Pending Request For Loan</h1>
                <div class="approved-loans">
                    <table class="loan-table">
                        <thead>
                            <tr>
                                <th>Customer</th>
                                <th>Loan Amount</th>
                                <th>Loan Term</th>
                                <th>Loan Status</th>
                                <th>Applied Date</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% for(let loanList of allLoanList) { %>
                                <tr class="loan-details">
                                    <td><%= loanList.customer.name %></td>
                                    <td><%= loanList.amount %> </td>
                                    <td><%= loanList.term %> </td>
                                    <td><%= loanList.status %> </td>
                                    <td><%= loanList.appliedDate%> </td>
                                </tr>
                            <% } %>
                        </tbody>
                    </table>
                </div>
            </div>            
        </div>
    <% } %>
</main>
<script src="/javascript/admin.js"></script>